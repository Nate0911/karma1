<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reddit OAuth Example</title>
</head>
<body>
    <h1>Login with Reddit</h1>
    <button id="loginButton">Login with Reddit</button>

    <script>
        // Reddit OAuth settings
        const clientId = 'svkx52WYcdXXTuAdjnI1ng'; // Your Reddit client ID
        const redirectUri = 'http://localhost:8000/callback'; // Replace with your redirect URI
        const userAgent = 'myRedditApp:v1.0 (by /u/YourRedditUsername)'; // Custom user agent string

        // Function to redirect user to Reddit for OAuth authorization
        function redirectToReddit() {
            const oauthUrl = `https://www.reddit.com/api/v1/authorize?client_id=${clientId}&response_type=code&state=random_state_string&redirect_uri=${encodeURIComponent(redirectUri)}&scope=read,identity`;
            window.location.href = oauthUrl; // Redirect the user to Reddit for authentication
        }

        // Add event listener to the button after the page has loaded
        document.getElementById('loginButton').addEventListener('click', function() {
            redirectToReddit(); // Call the redirect function when button is clicked
        });

        // When the page loads, check for the "code" parameter in the URL (from Reddit's redirect)
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const code = urlParams.get('code');
            
            if (code) {
                alert('Authorization Code: ' + code); // Display the authorization code (for testing)
                // Normally, you would now send this code to your backend to exchange for an access token.
            }
        };
    </script>
</body>
</html>
